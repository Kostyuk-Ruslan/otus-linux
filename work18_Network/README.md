# otus-linux
Vagrantfile - для стенда урока 9 - Network

# Дано
Vagrantfile с начальным  построением сети
inetRouter
centralRouter
centralServer

тестировалось на virtualbox

# Планируемая архитектура
построить следующую архитектуру

Сеть office1
- 192.168.2.0/26      - dev
- 192.168.2.64/26    - test servers
- 192.168.2.128/26  - managers
- 192.168.2.192/26  - office hardware

Сеть office2
- 192.168.1.0/25      - dev
- 192.168.1.128/26  - test servers
- 192.168.1.192/26  - office hardware


Сеть central
- 192.168.0.0/28    - directors
- 192.168.0.32/28  - office hardware
- 192.168.0.64/26  - wifi

```
Office1 ---\
      -----> Central --IRouter --> internet
Office2----/
```
Итого должны получится следующие сервера
- inetRouter
- centralRouter
- office1Router
- office2Router
- centralServer
- office1Server
- office2Server

# Теоретическая часть
- Найти свободные подсети
- Посчитать сколько узлов в каждой подсети, включая свободные
- Указать broadcast адрес для каждой подсети
- проверить нет ли ошибок при разбиении

# Практическая часть
- Соединить офисы в сеть согласно схеме и настроить роутинг
- Все сервера и роутеры должны ходить в инет черз inetRouter
- Все сервера должны видеть друг друга
- у всех новых серверов отключить дефолт на нат (eth0), который вагрант поднимает для связи
- при нехватке сетевых интервейсов добавить по несколько адресов на интерфейс






<code>Теоретическая часть Д.З.</code>


<details>
<summary><code>Найти свободные подсети</code></summary>

```

192.168.0.16/28

192.168.0.48/28



```

</details>


<details>
<summary><code>Посчитать сколько узлов в каждой подсети, включая свободные</code></summary>

```

Сеть office1
- 192.168.2.0/26   - 62 
- 192.168.2.64/26  - 62
- 192.168.2.128/26 - 62
- 192.168.2.192/26 - 62 

Сеть office2
- 192.168.1.0/25   - 126
- 192.168.1.128/26 - 62
- 192.168.1.192/26 - 62


Сеть central
- 192.168.0.0/28   - 14
- 192.168.0.32/28  - 14
- 192.168.0.64/26  - 62 



Свободные :

192.168.0.16/28 - 14

192.168.0.48/28 - 14


```

</details>




<details>
<summary><code>Указать broadcast адрес для каждой подсети</code></summary>


```

Сеть office1          Broadcust
- 192.168.2.0/26   -  192.168.2.63
- 192.168.2.64/26  -  192.168.2.127
- 192.168.2.128/26 -  192.168.2.191
- 192.168.2.192/26 -  192.168.2.255

Сеть office2
- 192.168.1.0/25   -  192.168.1.127
- 192.168.1.128/26 -  192.168.1.191
- 192.168.1.192/26 -  192.168.1.255


Сеть central
- 192.168.0.0/28   -  192.168.0.15
- 192.168.0.32/28  -  192.168.0.47
- 192.168.0.64/26  -  192.168.0.127




```
</details>

<details>
<summary><code>проверить нет ли ошибок при разбиении</code></summary>




```
Ну раз такое условие в задачи стоит, то точно есть ошибки в разбиении 
Честно говоря неочень понятно, что тут имеется ввиду,я в сетях слаб. Возможно что то, где то, кому то, отдано слишком много, можно сузить маской,но это не точно ))
Но опять же здесь  хорошо бы понимать сколько дается кол-во хостов.

192.168.2.128/26  - managers  - тут можно впринципе постаивть 25 маску


```

</details>




<details>
<summary><code>Практическая часть</code></summary>

```


                                                       inetRouter
                                                       eth1:192.168.255.1/30 - router-net +----------+
                                                                                                     |
                                                                                                     |
                                                                                                     |
                                                                                                     |
                                                                                                     |
                                                                                                     |
                                                                                                     |
                                                                                                     |
                                                        CentralRouter                                |
                                                        eth1:192.168.255.2/30 - router-net +---------+
                                                        eht2:192.168.0.1/28   - dir-net +----------------------------+
                                                        eth3:192.168.0.33/28  - hw-net                               |
                                                        eth4:192.168.0.65/26  - ngt-net                              |
                                                 +---+  eth1:192.168.255.5/30 - router-net                           |
                                                 |      eth1:192.168.255.9/30 - router-net +------------------------------------------------------+                                                          |
                                                 |                                                                   |                            |
        				         |              					             |                            |
                                                 |                                                                   |                            |
        			                 |              					             |                            |
        				         |              					             |                            |
        				         |              					             |                            |
        				         |              					             |                            |
        				         |             					                     |                            |
        				         |                                                                   |                            |
                                                 |              		           		             |                            |
        		                         |           Central-Server	                                     |                            |
                                                 |           eth1:192.168.0.2/28 - dir-net +-------------------------+                            |
        					 |				                                                                  |
        					 |				                                                                  |
        					 |				                                                                  |
    Office1Router				 |		                  	  Office2Router                                           |
    eth1:192.168.2.1/26   - dev			 |			                  eth1:192.168.1.1/25   - dev                             |
 +-+eth2:192.168.2.65/26  - test-servers	 |		                          eth2:192.168.1.129/26 - test-servers+------+            | 
 |  eth3:192.168.2.129/26 - managers		 |			                  eth3:192.168.1.193/26 - office-hardware    |            |
 |  eth4:192.168.2.193/26 - office-hardware      |                                        eth4:192.168.255.10/30 - router-net +-------------------+
 |  eth5:192.168.255.6/30 - router-net-----------+					                                             |
 | 							                                                                             |
 |								                                                                     |                         
 |								                                                                     |
 |								                                                                     |
 |	                					                                                                     |           
 |         Office1Server                                                                   Office2Server                             |
 +-------+ eth1:192.168.2.66/26 - servers					           eth1:192.168.1.130/26 - servers +---------+





```
</details>





<details>
<summary><code>Проверка</summary></code>

```



```

</details>










